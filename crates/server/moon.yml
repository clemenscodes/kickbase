# https://moonrepo.dev/docs/config/project
$schema: "https://moonrepo.dev/schemas/project.json"
id: "kickbase/server"
project:
  name: "kickbase/server"
  description: "kickbase"
tags:
  - "kickbase"
type: "application"
language: "rust"
platform: "rust"
workspace:
  inheritedTasks:
    exclude: ["dev", "build", "release"]
tasks:
  styles:
    command: "bunx tailwindcss -i styles/tailwind.css -o assets/main.css"
    platform: "system"
  build:
    deps:
      - "styles"
    command: "cargo build"
  release:
    deps:
      - "styles"
    command: "cargo build --release"
  ui:
    command: "cargo watch -c -w templates -w styles -- bunx tailwindcss -i styles/tailwind.css -o assets/main.css"
    platform: "system"
    local: true
  dev:
    command: "cargo watch"
    platform: "system"
    local: true
